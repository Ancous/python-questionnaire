{% extends "base.html" %}
{% block content %}
<main>
    {% if authorization %}
    <div class="info-main">
        Осталось {{ number_questions_answered }} из 402 случайных вопросов
    </div>
    {% else %}
    <div class="info-main">
        Чтобы сохранялась история вопросов нужна авторизация
    </div>
    {% endif %}
    <div class="button-container">
        <button class="button" onclick="window.location.href='{{ url_for('main.main') }}'">
            Вернуться на главную
        </button>
    </div>
    <h2 class="header-h2">
        Вопрос № {{ question_id }}: {{ question }}
    </h2>
    {% if sub_question %}
    <div class="sub_question">
        {{ sub_question|safe }}
    </div>
    {% endif %}
    <div class="question">
        {{ answer|safe }}
    </div>
    {% if authorization %}
    {% if statistic %}
    <p class="rate-your-answer">
        Оцените свой ответ
    </p>
    <form class="form-button" action="{{ url_for('statistic.statistic') }}" method="post">
        <button class="button" type="submit" name="action" value="answered">
            Ответил
        </button>
        <button class="button" type="submit" name="action" value="partial">
            Ответил не полностью, надо повторить
        </button>
        <button class="button" type="submit" name="action" value="not_answered">
            Не ответил
        </button>
    </form>
    {% elif question_all %}
    <div class="button-container">
        <button class="button" onclick="window.location.href='{{ url_for('question_all.question_all') }}'">
            Назад
        </button>
    </div>
    {% else %}
    <p class="rate-your-answer">
        Оцените свой ответ
    </p>
    <form class="form-button" action="{{ url_for('question.question') }}" method="post">
        <button class="button" type="submit" name="action" value="answered">
            Ответил
        </button>
        <button class="button" type="submit" name="action" value="partial">
            Ответил не полностью, надо повторить
        </button>
        <button class="button" type="submit" name="action" value="not_answered">
            Не ответил
        </button>
    </form>
    {% endif %}
    <div class="button-container">
        <button class="button" onclick="window.location.href='{{ url_for('logout.logout') }}'">
            Выйти
        </button>
    </div>
    {% else %}
    <div class="button-container">
        {% if question_all %}
        <button class="button" onclick="window.location.href='{{ url_for('question_all.question_all') }}'">
            Назад
        </button>
        {% else %}
        <button class="button" onclick="window.location.href='{{ url_for('question.question') }}'">
            Следующий вопрос
        </button>
        {% endif %}
        <button class="button" onclick="window.location.href='{{ url_for('login.login') }}'">
            Войти
        </button>
    </div>
    {% endif %}
</main>
{% endblock %}
