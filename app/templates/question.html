{% extends "base.html" %}
{% block content %}
<main>
    {% if authorization %}
    <div class="info-main">
        Осталось {{ number_questions_answered }} из 402 случайных вопросов
    </div>
    {% else %}
    <div class="info-main">
        Чтобы сохранялась история вопросов нужна авторизация
    </div>
    {% endif %}
    <div class="button-container">
        <button class="button" onclick="window.location.href='{{ url_for('main.main') }}'">
            Вернуться на главную
        </button>
    </div>
    {% set flashed_messages = get_flashed_messages() %}
    {% if flashed_messages %}
    {% for messages in flashed_messages %}
    <h2 class="header-h2">
        {{ messages }}
    </h2>
    {% endfor %}
    {% elif question_id %}
    <h2 class="header-h2">
        Вопрос №{{ question_id }}
    </h2>
    {% endif %}
    {% if question %}
    <div class="question">
        <p>
            {{ question }}
        </p>
        {% if sub_question %}
        {{ sub_question|safe }}
        {% endif %}
    </div>
    {% endif %}
    <div class="button-container">
        {% set flashed_messages = get_flashed_messages() %}
        {% if not flashed_messages %}
        <button class="button button-answer"
                onclick="window.location.href='{{ url_for('answer_id.answer_id', id=question_id) }}'">
            Ответ
        </button>
        {% endif %}
        {% if authorization %}
        <button class="button" onclick="window.location.href='{{ url_for('logout.logout') }}'">
            Выйти
        </button>
        {% else %}
        <button class="button" onclick="window.location.href='{{ url_for('login.login') }}'">
            Войти
        </button>
    </div>
    {% endif %}
</main>
{% endblock %}
