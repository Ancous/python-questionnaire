## <u>Кратко</u>

Декоратор — это функция, которая принимает другую функцию и возвращает новую функцию с изменённым или расширенным
поведением. Собственный декоратор создаётся определением функции, принимающей функцию-аргумент, и возвратом внутренней
функции-обёртки.

## <u>Развернуто</u>

Декораторы позволяют динамически модифицировать или дополнять поведение функций и методов без изменения их исходного
кода. В Python это популярный и мощный инструмент для логирования, проверки прав, кеширования и других аспектов.

1. **Как работает декоратор**
    - Принимает функцию как аргумент.
    - Определяет внутреннюю функцию, которая оборачивает вызов исходной функции, добавляя функционал.
    - Возвращает эту внутреннюю функцию вместо оригинальной.
    - Для применения используется синтаксис с `@` над функцией.

2. **Пример создания собственного декоратора**
    ```python
    def my_decorator(func):
        def wrapper():
            print("До вызова функции")
            func()
            print("После вызова функции")
        return wrapper

    @my_decorator
    def say_hello():
        print("Привет!")

    say_hello()
    ```

3. **Преимущества и недостатки**
    - **Преимущества:**
        - Позволяют расширять функциональность без изменения существующего кода.
        - Повышают повторное использование и модульность кода.
    - **Недостатки:**
        - Могут усложнить чтение и отладку кода.
        - Требуют понимания вложенных функций и замыканий.

4. **Контекст использования**
    - Логирование, кеширование результатов, проверка доступа, измерение времени выполнения, обработка исключений.

5. **Пример с аргументами функции**
    ```python
    def decorator_with_args(func):
        def wrapper(*args, **kwargs):
            print("Аргументы:", args, kwargs)
            return func(*args, **kwargs)
        return wrapper
 
    @decorator_with_args
    def greet(name):
        print(f"Привет, {name}!")
 
    greet("Анна")
    ```

Таким образом, декоратор — функция, которая преобразует другую функцию, добавляя новые возможности, а собственный
декоратор определяется созданием функции-обёртки, принимающей и вызывающей исходную функцию.

<div align="right">

[Вернуться к вопросам](../Вопросы.md)

</div>
