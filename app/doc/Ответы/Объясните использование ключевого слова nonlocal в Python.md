## <u>Кратко</u>

Ключевое слово `nonlocal` в Python используется для обозначения, что переменная внутри вложенной функции ссылается на
переменную из ближайшей внешней (не глобальной) области видимости.

## <u>Развернуто</u>

`nonlocal` позволяет вложенной функции изменять переменную, объявленную в её внешней функции, предотвращая создание
новой локальной переменной.

1. **Как работает `nonlocal`**
    - По умолчанию присваивание в функции создаёт новую локальную переменную.
    - Если нужно изменить переменную внешней функции, используется `nonlocal`.
    ```python
    def outer():
        x = 5
        def inner():
            nonlocal x
            x = 10
        inner()
        return x

    print(outer())  # Вывод: 10
    ```

2. **Отличие от `global`**
    - `global` ссылается на глобальные переменные модуля.
    - `nonlocal` — на ближайшую внешнюю область видимости (например, другую функцию).

3. **Преимущества и недостатки**
    - **Преимущества:**
        - Позволяет изменять переменные внешних, но не глобальных, функций.
        - Удобно для вложенных функций и замыканий.
    - **Недостатки:**
        - Может усложнить читаемость кода.
        - Требуется понимание областей видимости.

4. **Контекст использования**
    - Используется в замыканиях для изменения состояния без глобальных переменных.
    - Полезно при создании фабрик функций и генераторов.

5. **Пример:**
    ```python
    def counter():
        count = 0
        def increment():
            nonlocal count
            count += 1
            return count
        return increment

    inc = counter()
    print(inc())  # 1
    print(inc())  # 2
    ```

Таким образом, `nonlocal` — ключевое слово, позволяющее вложенным функциям ссылаться и изменять переменные своих внешних
функций в Python.

<div align="right">

[Вернуться к вопросам](../Вопросы.md)

</div>
