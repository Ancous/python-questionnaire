## <u>Кратко</u>

Инкапсуляция — это принцип объектно-ориентированного программирования, который скрывает внутренние детали реализации
объекта и предоставляет доступ к данным через методы.

## <u>Развернуто</u>

Инкапсуляция позволяет ограничить прямой доступ к атрибутам и методам объектов, обеспечивая контроль над изменением и
использованием данных, а также защищая объект от непреднамеренных вмешательств.

1. **Основные идеи инкапсуляции**
    - Хранение данных внутри объекта скрыто от внешнего мира.
    - Доступ к данным осуществляется через публичные методы — геттеры и сеттеры или свойства.
    - Скрытие информации повышает безопасность и поддержку кода.

2. **Как реализуется инкапсуляция в Python**
    - В Python невозможно полностью запретить доступ к атрибутам, но по соглашению используются:
        - Одно подчеркивание `_`: обозначает, что атрибут является защищённым (для внутреннего использования).
        - Два подчеркивания `__`: запускают механизм "манглинга" имени для усложнения доступа к атрибуту.
   
    ```python
    class Person:
        def __init__(self, name):
            self.__name = name  # приватный атрибут

        def get_name(self):
            return self.__name

        def set_name(self, name):
            self.__name = name

        def public_method(self):
            print("Публичный метод")

        def _protected_method(self):
            print("Защищённый метод")

        def __private_method(self):
            print("Приватный метод")

        def access_private(self):
            self.__private_method()  # вызов приватного метода внутри класса


    obj = Person("Alex")
    # obj.__name = "Inna"  # так изменять __name неправильно
    obj._Person__name = "Inna"  # так изменять __name правильно (не рекомендуется)
    obj.set_name("Inna")  # так изменять __name правильно (рекомендуется)
    # print(obj.__name)  # Ошибка AttributeError
    print(obj.get_name())  # Вывод: Inna
    obj.public_method()  # Вывод: Публичный метод
    obj._protected_method()  # Работает, но не рекомендуется вызывать извне
    # obj.__private_method()  # Ошибка AttributeError
    obj.access_private()  # Вывод: Приватный метод
    ```

3. **Преимущества и недостатки**
    - **Преимущества:**
        - Контроль доступа к данным, предотвращение случайных изменений.
        - Повышение инкапсуляции способствует более модульному и надёжному коду.
    - **Недостатки:**
        - Избыточное сокрытие может усложнить тестирование и отладку.
        - В Python инкапсуляция основана на соглашениях, а не на абсолютных ограничениях.

4. **Контекст использования**
    - Используется для защиты критичных данных и ограничения доступа к внутренностям класса.
    - Помогает реализовать четкий интерфейс объекта.

5. **Пример:**
    ```python
    p = Person("Alice")
    print(p.get_name())  # Вывод: Alice
    # print(p.__name)    # Ошибка AttributeError
    ```

Таким образом, инкапсуляция в Python — это способ скрыть внутренние детали объекта и управлять доступом к его данным
через методы и соглашения.

<div align="right">

[Вернуться к вопросам](../Вопросы.md)

</div>
