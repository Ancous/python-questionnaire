## <u>Кратко</u>

Для упаковки бинарных зависимостей в Python чаще всего используют формат **wheel** (`.whl`), который поддерживает
хранение скомпилированных расширений и позволяет легко распространять пакеты с бинарными файлами.

## <u>Развернуто</u>

Упаковка бинарных зависимостей важна для удобного распространения Python-пакетов, включающих скомпилированный код (
например, расширения на C/C++), чтобы пользователи могли установить их без необходимости компиляции.

1. **Формат wheel**
    - Wheel — это современный стандарт упаковки python-пакетов с расширением `.whl`.
    - Он поддерживает хранение бинарных компонентов, таких как скомпилированные расширения для разных платформ и
      архитектур.
    - Пакеты wheel способны ускорять установку и упрощать распространение.

2. **Инструменты для создания wheel**
    - Для создания wheel-пакета используется утилита `wheel` вместе с `setuptools`.
    - Команда для сборки wheel:
    ```bash
    python setup.py bdist_wheel
    ```  
    - Результатом будет файл `.whl` в каталоге `dist/`.

3. **Упаковка бинарных файлов**
    - В `setup.py` необходимо корректно настроить параметры сборки, чтобы включить расширения (`Extension`),
      компилируемые C/C++ файлы и другие бинарные зависимости.
    - Пример настройки:
    ```python
    from setuptools import setup, Extension
 
    module = Extension('mymodule', sources=['mymodule.c'])
    setup(
        name='mypackage',
        version='0.1',
        ext_modules=[module],
        # другие параметры
    )
    ```

4. **Преимущества и недостатки**
    - **Преимущества:**
        - Позволяет распространять готовые бинарные пакеты, исключая необходимость локальной компиляции.
        - Ускоряет установку пакетов.
    - **Недостатки:**
        - Требует компиляции на стороне разработчика для каждой целевой платформы.
        - Нужно правильно настраивать сборку для разных ОС и архитектур.

5. **Контекст использования**
    - Создание пакетов с расширениями на C/C++, например, научные библиотеки (NumPy, SciPy).
    - Распространение бинарных зависимостей для пользователей без средств разработки.

6. **Пример использования wheel**
    ```bash
    python setup.py bdist_wheel
    pip install dist/mypackage-0.1-cp39-cp39-win_amd64.whl
    ```

Таким образом, для упаковки бинарных зависимостей в Python рекомендуется использовать формат wheel, который позволяет
эффективно распространять и устанавливать пакеты с скомпилированными компонентами.

<div align="right">

[Вернуться к вопросам](../Вопросы.md)

</div>
