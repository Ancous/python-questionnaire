### Кратко

Для проверки файла .py на синтаксические ошибки без запуска кода используется команда `python -m py_compile file.py`.
Она компилирует исходник в байт-код, и если есть синтаксические ошибки, выводит их, не выполняя саму программу.

### Развернуто

В Python можно проверить файл на наличие синтаксических ошибок, не выполняя его, с помощью встроенного модуля
py_compile или инструмента compileall. Они компилируют Python-файл в байткод (файл .pyc), не запуская код, и
сигнализируют о синтаксических ошибках, если таковые имеются.

1. **py_compile**
    - Проверяет отдельный файл.
    - Если есть ошибки — сообщит о них в консоли, не выполняя код (код не будет работать, если содержатся синтаксические
      ошибки).
    ```python
    python -m py_compile my_script.py
    ```
    - Если ошибок нет, ничего не выводится (или появляется файл скомпилированного байткода в `__pycache__/`).
    - Если есть ошибка:
    ```python
    File "my_script.py", line 5
    print("Hello"
            ^
    SyntaxError: unexpected EOF while parsing
    ```

2. **compileall**
    - Используется для пакетной проверки сразу нескольких файлов или всего каталога:
    ```python
    python -m compileall .
    # Проверит все .py файлы в текущей папке и подпапках
    ```

3. **Проверка из Python-скрипта**
    - Можно проверить строку или файл программно:
    ```python
    with open("my_script.py") as f:
        source = f.read()
    compile(source, "my_script.py", "exec")  # Выбросит SyntaxError, если есть ошибка
    ```
    - Особенности и ограничения
        - Такой способ обнаруживает только синтаксические ошибки, а не ошибки времени выполнения (NameError, TypeError
          и т.п.).
        - Если в коде используются конструкции, выполняющиеся при импорте (например, глобальные конструкции, кроме
          функций и классов), они не будут выполнены.
        - Такой способ проверки почти всегда используется для быстрой диагностики в автоматизированных системах или при
          CI/CD.

Для быстрой проверки Python-файлов на синтаксические ошибки используйте python `-m py_compile file.py` или
`python -m compileall`. Это безопасно, быстро и не запускает сам код, обнаруживая только ошибки синтаксиса.

<div align="right">

[Вернуться к вопросам](../Вопросы.md)

</div>
