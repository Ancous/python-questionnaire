## <u>Кратко</u>

Код создаёт и изменяет один и тот же список по умолчанию для `list1` и `list3`, а для `list2` создаёт отдельный список,
поэтому итогом будет:

```python
([10, 'a'], [123], [10, 'a'])
```

## <u>Развернуто</u>

Особенностью Python является поведение изменяемых аргументов по умолчанию. Список по умолчанию создаётся один раз при
определении функции и используется во всех вызовах, если аргумент не передан.

1. **Разбор функции `extendList`**
    - Параметр `list` по умолчанию — это один и тот же список при всех вызовах без явного параметра.
    - Вызов `extendList(10)` добавляет `10` в этот список.
    - Вызов `extendList(123, [])` использует новый пустой список, куда добавляется `123`.
    - Вызов `extendList('a')` снова использует список по умолчанию, куда добавляется `'a'`.

2. **Значения переменных после вызовов**
    - `list1` будет ссылаться на список `[10, 'a']`.
    - `list2` будет отдельным списком `[123]`.
    - `list3` — тот же список, что и `list1`: `[10, 'a']`.

3. **Почему так происходит**
    - Значения по умолчанию вычисляются один раз при определении функции.
    - Для изменяемых объектов это означает совместное использование.

4. **Преимущества и недостатки**
    - **Недостатки:**
        - Может приводить к трудноуловимым багам из-за разделения состояния между вызовами.
    - **Рекомендация:**
        - Использовать `None` в качестве значения по умолчанию и инициализировать список внутри функции.

5. **Как правильно написать функцию:**
    ```python
    def extendList(val, list=None):
        if list is None:
            list = []
        list.append(val)
        return list
    ```

6. **Пример с исправлением:**
    ```python
    list1 = extendList(10)
    list2 = extendList(123, [])
    list3 = extendList('a')
    print(list1, list2, list3)  # Вывод: [10] [123] ['a']
    ```

Таким образом, приведённый код демонстрирует типичную ошибку с изменяемыми аргументами по умолчанию в Python, когда
список по умолчанию используется повторно в нескольких вызовах функции.

<div align="right">

[Вернуться к вопросам](../Вопросы.md)

</div>
